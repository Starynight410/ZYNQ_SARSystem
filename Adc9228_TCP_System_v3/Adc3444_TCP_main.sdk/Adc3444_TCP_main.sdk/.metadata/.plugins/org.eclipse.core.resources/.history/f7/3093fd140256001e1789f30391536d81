#ifndef SRC_ADC9228TCP_H_
#define SRC_ADC9228TCP_H_

#define SEND_SIZE 		(1024)
#define PAKET_LENGTH 	(1024)

// command data from PC through TCP/IP
uint8_t rx_buffer[2048*8] __attribute__ ((__aligned__(32)));
uint8_t * rx_bufferPtr;

// data buffer between PC and ZYNQ through port 10 data_connected_pcb
uint8_t data_buffer[2048*8] __attribute__ ((__aligned__(32)));
uint8_t * data_bufferPtr;

// Adc data to PC through TCP/IP
uint8_t tx_buffer[131072] __attribute__ ((__aligned__(32)));
uint8_t * tx_bufferPtr;

// Uart data from PC
uint8_t Uart_tcp_rx_buffer[2048*8] __attribute__ ((__aligned__(32)));
uint8_t * Uart_tcp_rx_bufferPtr;

// Uart data to PC
uint8_t Uart_tcp_tx_buffer[2048*8] __attribute__ ((__aligned__(32)));
uint8_t * Uart_tcp_tx_bufferPtr;

volatile unsigned tcp_client_connected;
volatile int tcp_trans_done;

struct tcp_pcb *connected_pcb;			//port 7 send AdcData to Host
struct tcp_pcb *receive_pcb;			//port 8 receive Command from Host
struct tcp_pcb *uart_connected_pcb;		//port 9 receive uart from Host
struct tcp_pcb *data_connected_pcb;		//port 10 receive DataReq from Host

volatile unsigned tcp_client_connected;
volatile int tcp_trans_done;
volatile u32 packet_index;
volatile int packet_trans_done;

volatile int ReadyToHandle_CommandRx;
volatile int ReadyToHandle_UartRx;
volatile int ReadyToHandle_DataReq;

void send_received_data();

#endif /* SRC_ADC9228TCP_H_ */
